<form fxLayout="column" class="edit" (ngSubmit)="onSubmit()" [formGroup]="form">
  <mat-form-field appearance="outline">
    <mat-label>RefCode</mat-label>
    <input matInput formControlName="refCode"
      (input)="clearErrors()" [ngClass]="{ 'is-invalid': submitted && f.refCode.errors }"
      type="text" id="refCode" name="refCode" required/>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Type</mat-label>
    <input matInput
      formControlName="refType" (input)="clearErrors()"
      [ngClass]="{ 'is-invalid': submitted && f.refType.errors }"
      type="text" id="refType" name="refType" required/>
  </mat-form-field>

  <label for="description" translate="">JSON Model?</label>
  <json-editor
    [json]="prototype && prototype.opAttachmentPrototypeVersion.value"
    (change)="onJsonChange($event)"></json-editor>

  <div class="actions">
    <a mat-raised-button [routerLink]="['/operations', operationId, 'aprototypes']">Close</a>
    <a mat-raised-button color="warn" type="submit" [disabled]="!form.valid">Save</a>
  </div>
</form>
