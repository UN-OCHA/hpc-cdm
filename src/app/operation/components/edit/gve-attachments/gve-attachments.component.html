<div>
  <operation-gves-icons [list]="createOperationService.operation.opGoverningEntities"></operation-gves-icons>

        <div *ngFor="let governingEntity of createOperationService.operation.opGoverningEntities; let idx = index;" class="form-check form-check-inline">
            <input class="form-check-input"
              type="radio"
              [(ngModel)]="this.viewingGoverningEntityIdx"
              [value]="idx"
              (change)="selectNewGoverningEntity(idx)"
              name="GveVisible"
              id="gve-{{governingEntity.opGoverningEntityVersion.name}}"/>
            <label for="gve-{{governingEntity.opGoverningEntityVersion.name}}" class="form-check-label">
              <figure class="figure">
                <img *ngIf="governingEntity.opGoverningEntityVersion.icon && governingEntity.opGoverningEntityVersion.icon.length"
                  class="clusterImg"
                  src="/assets/images/fieldClusters/SVG/{{governingEntity.opGoverningEntityVersion.icon}}.svg" title="{{governingEntity.opGoverningEntityVersion.name}}">
                  <figcaption class="figure-caption cluster-label">{{ governingEntity.opGoverningEntityVersion.name }}
                    <i class="material-icons" *ngIf="governingEntity.selectedCount">check</i>
                  </figcaption>
                </figure>
            </label>
        </div>

  <form #childForm="ngForm">
    <div *ngIf="createOperationService.operation.opGoverningEntities && !createOperationService.operation.opGoverningEntities.length">
      <h4 translate>Please create governing entities first</h4>
    </div>
    <div *ngFor="let entry of createOperationService.operation.opGoverningEntities; let i = index">
      <gve-entry *ngIf="i === viewingGoverningEntityIdx" [readOnly]="true" [entry]="entry"></gve-entry>

        <div *ngIf="i === viewingGoverningEntityIdx" class="panel">
          <p>Forms</p>
          <div class="panel-body">
            <div *ngFor="let entry of attachments; let i = index">
              <attachment-entry (onRefreshList)="refreshList()" [operationId]="createOperationService.operation.id" [gveId]="entry.id" [entry]="entry" [entryIdx]="i+1"></attachment-entry>
            </div>

            <div class="panel-actions">
              <button type="button" class="btn btn-primary" (click)="addEntry(entry)">
                {{ 'Add Form' | translate }}
              </button>
            </div>
          </div>
        </div>
    </div>
  </form>
</div>
