<div class="file-upload">
  <div class="form-group">
    <input [id]="uid" type="file" #file style="display: none"
      (change)="handleFileInput($event.target.files)"/>
  </div>
  <div fxLayout="row" fxLayoutAlign="space-between center">
    <mat-form-field appearance="outline" fxFlex="grow">
      <mat-label>{{label}}</mat-label>
      <input matInput [disabled]="readOnly"
        [ngClass]="required && control.valid ? 'ng-valid' : required ? 'ng-invalid' : ''"
        value="{{value.name || 'No file uploaded'}}"
        readonly/>
    </mat-form-field>
    <div *ngIf="!value.name" class="file-actions">
      <a *ngIf="!readOnly" id="selectedFile" mat-raised-button
        (click)="chooseFile()">{{ 'Upload' }}</a>
    </div>
    <div *ngIf="value.name" fxLayout="row" class="file-actions">
      <a *ngIf="!readOnly" id="selectedFile" mat-raised-button
        (click)="chooseFile()">{{ 'Replace' }}</a>
      <a *ngIf="!readOnly" mat-raised-button
        (click)="removeFile()">{{ 'Remove' }}</a>
    </div>
  </div>
</div>
