<form class="edit" [formGroup]="form" fxLayout="column">
  <hpc-input
    label="Name"
    [formControl]="form.controls['name']"
    (input)="clearErrors()"
    [ngClass]="{ 'is-invalid': submitted && f.name.errors }"
    required></hpc-input>

  <hpc-textarea
    label="Summary"
    [formControl]="form.controls['description']"
    [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
    rows=3
    maxlength="400"
    required></hpc-textarea>

  <hpc-autocomplete-select
    label="Emergencies"
    hint="Enter/Select one or multiple emergencies."
    [options$]="emergencies$"
    (change)="onEmergenciesChange($event)"
    required></hpc-autocomplete-select>

  <hpc-autocomplete-select
    label="Locations"
    hint="Enter/Select one or multiple locations."
    [options$]="locations$"
    (change)="onLocationsChange($event)"
    required></hpc-autocomplete-select>

  <hpc-autocomplete-select
    label="Blueprint"
    hint="Enter/Select single blueprint."
    singleSelect=true
    [options$]="blueprints$"
    (change)="onBlueprintChange($event)"
    required></hpc-autocomplete-select>

  <div *ngIf="mode === 'add'" class="actions">
    <a mat-raised-button [routerLink]="['/operations']">Close</a>
    <a (click)="onSubmit()" mat-raised-button color="primary" [disabled]="!form.valid">Save & Next</a>
  </div>
</form>
